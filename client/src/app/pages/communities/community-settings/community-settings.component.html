<app-navbar></app-navbar>
<div class="flex justify-center">
  <div class="flex flex-col justify-center w-[24rem] mb-4">
    <div class="ml-2 text-zinc-500 text-xs font-bold" value="top" selected>
      Communities settings
    </div>
    <div class="flex flex-col">
      <div class="flex flex-col justify-center w-full">
        <!-- <button
          class="flex flex-row justify-between items-center w-full mt-2 rounded px-3 pt-2 pb-2 bg-zinc-900"
        > -->
        <button
          #adminsButton
          (click)="toggleAdmins()"
          class="flex flex-row justify-between items-center w-full mt-2 rounded-x rounded-t rounded-b border-zinc-700 px-3 pt-2 pb-2 bg-zinc-900"
        >
          <span class="text-sm text-zinc-200">Admins</span>
          <svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 24 24"
            class="w-4 h-4 fill-zinc-200"
          >
            <path
              fill-rule="evenodd"
              d="M12.53 16.28a.75.75 0 01-1.06 0l-7.5-7.5a.75.75 0 011.06-1.06L12 14.69l6.97-6.97a.75.75 0 111.06 1.06l-7.5 7.5z"
              clip-rule="evenodd"
            />
          </svg>
        </button>
        <div #adminsBox class="hidden flex flex-col justify-center">
          <div class="flex flex-col justify-center w-96 max-w-3xl">
            <div
              *ngIf="commnuityAdmins.length === 0"
              class="bg-zinc-900 px-3 pt-3 flex flex-col justify-between"
            >
              <div
                #deleteAdmin
                class="flex align-center justify-between px-2 py-1 placeholder:text-zinc-500 rounded text-sm text-zinc-50 focus:outline-none"
              >
                No admins, currently.
              </div>
            </div>
            <div
              *ngFor="let a of commnuityAdmins"
              class="bg-zinc-900 px-3 pt-3 flex flex-col justify-between"
            >
              <div
                *ngIf="commnuityAdmins.length > 0"
                #deleteAdmin
                class="flex align-center justify-between px-2 py-1 bg-zinc-800 placeholder:text-zinc-500 rounded text-sm text-zinc-50 focus:outline-none"
              >
                {{ a.username_for_display }}
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  fill="none"
                  (click)="toggleDeleteAdmin(a.username_for_display)"
                  viewBox="0 0 24 24"
                  stroke-width="1.5"
                  class="w-4 h-4 stroke-red-600 self-center cursor-pointer"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    d="M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"
                  />
                </svg>
              </div>
            </div>
            <!-- Used as last padding, this poor fella -->
            <div class="bg-zinc-900 pb-3 rounded-b"></div>
            <div
              #deleteAdminBox
              class="hidden flex flex-col border-t border-zinc-700 rounded-b pt-2 pb-3 py-3 bg-zinc-900"
            >
              <span class="text-sm text-zinc-200 mb-2 text-center self-center"
                ><div>Are you sure you want to remove</div>
                admin rights for
                <span class="text-red-500 font-bold">{{ deleteAdminName }}</span
                >?</span
              >
              <div class="self-center">
                <button
                  type="button"
                  (click)="putAdmin()"
                  class="change-click-to-delete"
                  class="bg-red-700 rounded px-2 py-1 mr-2 text-xs font-semibold text-zinc-50 hover:outline-none hover:bg-red-800"
                >
                  Delete
                </button>
                <button
                  type="button"
                  (click)="toggleDeleteAdmin(deleteAdminName)"
                  class="bg-indigo-600 rounded px-2 py-1 text-xs font-semibold text-zinc-50 hover:outline-none hover:bg-indigo-700"
                >
                  Cancel
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="flex flex-col justify-center w-full">
        <!-- <button
          class="flex flex-row justify-between items-center w-full mt-2 rounded px-3 pt-2 pb-2 bg-zinc-900"
        > -->
        <button
          #addAdminButton
          (click)="toggleAddAdmin()"
          class="flex flex-row justify-between items-center w-full mt-2 rounded-x rounded-t rounded-b border-zinc-700 px-3 pt-2 pb-2 bg-zinc-900"
        >
          <span class="text-sm text-zinc-200">Add admin</span>
          <svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 24 24"
            class="w-4 h-4 fill-zinc-200"
          >
            <path
              fill-rule="evenodd"
              d="M12.53 16.28a.75.75 0 01-1.06 0l-7.5-7.5a.75.75 0 011.06-1.06L12 14.69l6.97-6.97a.75.75 0 111.06 1.06l-7.5 7.5z"
              clip-rule="evenodd"
            />
          </svg>
        </button>
        <div #addAdminBox class="hidden flex justify-center">
          <div class="flex flex-col justify-center w-96 max-w-3xl">
            <div
              class="bg-zinc-900 px-3 pt-3 pb-3 flex flex-col justify-between"
            >
              <p
                class="text-xs text-red-500 mb-2"
                [ngClass]="isAddAdminValid ? 'hidden' : 'block'"
              >
                Please use a valid username.
              </p>
              <p
                class="text-xs text-green-500 mb-2"
                [ngClass]="isAddAdminSuccess ? 'block' : 'hidden'"
              >
                Successfully added: {{ addedAdmin }}
              </p>
              <input
                type="text"
                id="add-admin"
                #addAdmin
                (click)="reset()"
                [ngClass]="isAddAdminValid ? '' : 'outline outline-red-500'"
                class="px-2 py-1 bg-zinc-800 text-zinc-300 placeholder:text-zinc-500 rounded text-sm text-zinc-50 focus:outline-none"
                placeholder="Username"
              />
            </div>
            <div
              class="flex border-t border-zinc-700 rounded-b px-3 py-3 bg-zinc-900"
            >
              <button
                type="button"
                (click)="validateAddAdmin()"
                class="bg-indigo-600 rounded px-2 py-1 text-xs font-semibold text-zinc-50 hover:outline-none hover:bg-indigo-700"
              >
                Submit
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
